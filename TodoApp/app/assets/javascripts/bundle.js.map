{"version":3,"sources":["webpack/bootstrap cff713fab6ab658e5d64","./frontend/todo_react.jsx","./frontend/stores/todo_store.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA,QAAO,SAAP,GAAmB,oBAAQ,CAAR,CAAnB,C;;;;;;ACAA,KAAI,SAAS,EAAT;AACJ,KAAI,aAAa,EAAb;;AAEJ,KAAI,YAAY;;AAEd,YAAS,YAAY;AACnB,gBAAW,OAAX,CAAoB,UAAU,EAAV,EAAc;AAChC,UAAG,KAAH,CAAS,IAAT,EAAe,MAAf,EADgC;MAAd,CAApB,CADmB;IAAZ;;AAMT,sBAAmB,UAAU,QAAV,EAAoB;AACrC,gBAAW,IAAX,CAAgB,QAAhB,EADqC;AAErC,UAAK,OAAL,GAFqC;IAApB;;AAKnB,yBAAsB,UAAU,QAAV,EAAoB;AACxC,SAAI,QAAQ,WAAW,OAAX,CAAmB,QAAnB,CAAR,CADoC;AAExC,gBAAW,MAAX,CAAkB,KAAlB,EAAyB,CAAzB,EAFwC;AAGxC,UAAK,OAAL,GAHwC;IAApB;;AAMtB,QAAK,YAAY;AACf,YAAO,MAAP,CADe;IAAZ;;AAIL,UAAO,YAAY;AACjB,OAAE,GAAF,CAAO,WAAP,EAAoB,UAAU,IAAV,EAAgB;AAClC,gBAAS,IAAT,CADkC;MAAhB,CAApB,CADiB;AAIjB,UAAK,OAAL,GAJiB;IAAZ;;AAOP,WAAQ,UAAS,IAAT,EAAe;AACrB,OAAE,IAAF,CAAO,WAAP,EAAoB,IAApB,EAA0B,IAA1B,CACE,UAAS,IAAT,EAAe;AACb,cAAO,KAAK,EAAL,CAAP,GAAkB,IAAlB,CADa;MAAf,CADF,CADqB;;AAMrB,UAAK,OAAL,GANqB;IAAf;;AASR,YAAS,UAAS,EAAT,EAAa;AACpB,SAAI,OAAO,IAAP,CAAY,MAAZ,EAAoB,QAApB,CAA6B,GAAG,QAAH,EAA7B,CAAJ,EAAiD;AAC/C,SAAE,IAAF,CAAO;AACL,cAAK,gBAAgB,EAAhB;AACL,eAAM,MAAN;AACA,eAAM,EAAC,SAAS,QAAT,EAAmB,IAAI,EAAJ,EAA1B;AACA,kBAAS,YAAW;AAClB,mBAAQ,GAAR,CAAY,iBAAZ,EADkB;AAElB,oBAAS,OAAO,MAAP,CAAc,UAAS,GAAT,EAAc;AAAC,oBAAO,IAAI,EAAJ,KAAW,EAAX,CAAR;YAAd,CAAvB,CAFkB;UAAX,EAJX,EAD+C;AAS/C,YAAK,OAAL,GAT+C;MAAjD;IADO;;AAcT,eAAY,UAAS,EAAT,EAAa;AACvB,SAAI,SAAS,OAAO,EAAP,EAAW,IAAX,CADU;AAEvB,OAAE,KAAF,CAAQ,eAAe,EAAf,EAAmB,EAAC,MAAM,EAAC,MAAM,CAAC,MAAD,EAAb,EAA5B,EAFuB;AAGvB,UAAK,OAAL,GAHuB;IAAb;;EArDV;;AA+DJ,QAAO,OAAP,GAAiB,SAAjB,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap cff713fab6ab658e5d64\n **/","window.TodoStore = require('./stores/todo_store.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/todo_react.jsx\n **/","var _todos = {};\nvar _callbacks = [];\n\nvar TodoStore = {\n\n  changed: function () {\n    _callbacks.forEach (function (cb) {\n      cb.apply(null, _todos);\n    });\n  },\n\n  addChangedHandler: function (callback) {\n    _callbacks.push(callback);\n    this.changed();\n  },\n\n  removeChangedHandler: function (callback) {\n    var index = _callbacks.indexOf(callback);\n    _callbacks.splice(index, 1);\n    this.changed();\n  },\n\n  all: function () {\n    return _todos;\n  },\n\n  fetch: function () {\n    $.get( \"api/todos\", function (data) {\n      _todos = data;\n    } );\n    this.changed();\n  },\n\n  create: function(todo) {\n    $.post(\"api/todos\", todo).done(\n      function(data) {\n        _todos[data.id] = data;\n      });\n\n    this.changed();\n  },\n\n  destroy: function(id) {\n    if (Object.keys(_todos).includes(id.toString())) {\n      $.ajax({\n        url: \"/api/todos/\" + id,\n        type: 'post',\n        data: {_method: 'delete', id: id},\n        success: function() {\n          console.log(\"message deleted\");\n          _todos = _todos.filter(function(obj) {return obj.id !== id;});\n        }});\n      this.changed();\n    }\n  },\n\n  toggleDone: function(id) {\n    var truthy = _todos[id].done;\n    $.patch(\"api/todos/\" + id, {todo: {done: !truthy}});\n    this.changed();\n  }\n\n};\n\n\n\nmodule.exports = TodoStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/stores/todo_store.js\n **/"],"sourceRoot":""}